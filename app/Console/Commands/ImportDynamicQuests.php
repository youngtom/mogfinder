<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use App\ItemSource;

class ImportDynamicQuests extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = 'quests:import-dynamic';

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = 'Command description';

    /**
     * Create a new command instance.
     *
     * @return void
     */
    public function __construct()
    {
        parent::__construct();
    }

    /**
     * Execute the console command.
     *
     * @return mixed
     */
    public function handle()
    {
        $questIDs = [35504,9280,9369,24469,8325,14075,26799,24470,24486,14452,24852,25126,26800,29406,29409,29524,26318,28714,8326,8346,14071,14455,14456,24625,24626,25127,25172,26801,26802,37439,29414,182,9305,10303,14154,14204,26333,28726,37445,8334,14122,14459,24812,24970,24973,25131,37443,29417,29421,29523,218,9311,24492,26364,26390,28730,8335,14125,14460,24814,24971,25130,25132,29423,29661,29677,29679,29768,29770,29775,29778,29780,29782,24988,29790,24998,25003,29793,29794,29799,25013,25046,30996,29552,29559,29727,29759,29890,29900,29906,30070,31732,31735,29694,29804,29824,29827,29936,29943,29967,30128,30179,31241,31765,31774,31999,29585,29624,29630,29635,29637,29639,29646,29647,29670,29717,29749,29755,29865,29882,29920,29930,30000,30002,30082,30083,30088,30089,30495,31262,30596,30615,30344,30347,30349,30355,30357,30445,30575,30619,30660,30662,30132,30174,30175,30230,30464,30620,30661,30663,31256,29600,29908,29913,29918,29940,29951,29982,29986,29989,30029,30032,30050,30051,30057,30058,30072,30075,30078,30168,30183,30184,30186,30268,30273,30353,30457,30468,30628,30671,30672,30690,30694,30695,30820,30855,31324,31327,31355,31356,30361,30492,30606,30608,30612,30616,30618,30683,30692,30747,30752,30799,30802,30804,30942,31228,30757,30769,30772,30776,30781,30784,30787,30793,30815,30890,30893,30895,30900,30921,30925,30926,30963,30968,30970,30973,30975,30977,30979,31342,31357,31360,31687,34432,34478,34583,34996,35015,35019,35460,35486,35495,36941,33784,34364,34427,34739,35005,35745,35750,35760,36940,30958,31002,31006,31008,31026,31066,31068,31069,31072,31079,31085,31090,31091,31133,31179,31181,31185,31190,31207,31211,31364,31366,31398,31448,31465,31497,31516,31606,31612,31681,31782,31809,32816,34393,34422,33081,33082,33271,33765,33808,33834,33836,34019,34054,34779,34782,34786,34792,35093,32792,32795,32993,33410,33450,33467,33470,33483,33527,33828,33919,35524,33256,33837,35650,35652,36575,32981,33010,33918,34066,34075,34124,34344,35506,36574,33706,36443,34847,35050,35206,35209,35213,35644,35659,35693,35702,35834,36208,36436,36440,36576,33548,33563,33661,33689,35027,35038,35040,35136,35248,35399,35432,35434,36573,34699,34703,35026,35037,35128,33112,33116,34804,34912,34980,35229,35235,36523,34278,34295,34803,34870,34890,35507,35510,36482,34090,34098,34099,34103,34104,34105,33721,33730,33731,34106,34107,34108,33580,33734,33874,33970,34564,36183,33530,33920,33958,34154,34448,35353,35482,34447,33976,34656,34756,34829,34883,34885,34923,34939,34999,35004,35012,35260,35273,35704,35077,35090,35211,35896,34716,34746,34955,34957,35330,34850,34868,34916,34918,35265,34515,34666,34881,34941,35663,36275,34572,35068,35337,35396,35100,35155,35317,35374,35024,35084,35088,37560,34596,35061,35169,35357,37433,37553,37554,37555,37557,37558,37559,37561,37562,35097,35158,35171,35378,37434,37540,37541,37543,37547,37548,37549,37550,37551,37552,35989,36004,36007,36016];
        $questSourceTypeID = 7;
        
        foreach ($questIDs as $id) {
	        $itemSources = ItemSource::where('item_source_type_id', '=', $questSourceTypeID)->where('bnet_source_id', '=', $id)->get();
	        
	        foreach ($itemSources as $source) {
		        $source->dynamic_quest_rewards = 1;
		        $source->save();
	        }
        }
    }
}
